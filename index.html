<!DOCTYPE html>
<html lang="pt-BR">
<head>
ย ย <meta charset="UTF-8">
ย ย <meta name="viewport" content="width=device-width, initial-scale=1.0">
ย ย <title>Metins: Desafios Interativos do dia</title>
ย ย ย ย <script src="https://cdn.tailwindcss.com"></script>
ย ย ย ย <style>
ย ย ย ย @import url('https://fonts.googleapis.com/css2?family=Inter:wght@100..900&family=Orbitron:wght&display=swap');
ย ย ย ย :root {
ย ย ย ย ย ย --color-primary: #8b5cf6; /* Indigo-500 */
ย ย ย ย ย ย --color-secondary: #3b82f6; /* Blue-500 */ย ย ย ยย
ย ย ย ย {
ย 	"hosting": {
ย ย	 "site": "metins-quiz-695ce",

ย ย	 "public": "public",
ย ย 	...
ย 	}
	}
ย ย ย ย }
ย ย ย ย body {
ย ย ย ย ย ย font-family: 'Inter', sans-serif;
ย ย ย ย ย ย transition: background-color 0.3s, color 0.3s;
ย ย ย ย }
ย ย ย ย /* Estilos para Dark Mode (Padrรฃo) */
ย ย ย ย .dark-mode {
ย ย ย ย ย ย background-color: #111827; /* Gray-900 */
ย ย ย ย ย ย color: #e5e7eb; /* Gray-200 */
ย ย ย ย }
ย ย ย ย .dark-mode .card {
ย ย ย ย ย ย background-color: #1f2937; /* Gray-800 */
ย ย ย ย }
ย ย ย ย .dark-mode .btn-primary {
ย ย ย ย ย ย background-color: var(--color-primary);
ย ย ย ย ย ย color: white;
ย ย ย ย }

ย ย ย ย /* Estilos para Light Mode */
ย ย ย ย .light-mode {
ย ย ย ย ย ย background-color: #f9fafb; /* Gray-50 */
ย ย ย ย ย ย color: #1f2937; /* Gray-800 */
ย ย ย ย }
ย ย ย ย .light-mode .card {
ย ย ย ย ย ย background-color: white;
ย ย ย ย ย ย border: 1px solid #e5e7eb;
ย ย ย ย }
ย ย ย ย .light-mode .btn-primary {
ย ย ย ย ย ย background-color: var(--color-primary);
ย ย ย ย ย ย color: white;
ย ย ย ย }
ย ย ย ยย
ย ย ย ย .timer-glow {
ย ย ย ย ย ย font-family: 'Orbitron', sans-serif;
ย ย ย ย ย ย text-shadow: 0 0 10px var(--color-primary), 0 0 20px var(--color-primary);
ย ย ย ย }
ย ย ย ย .neon-border {
ย ย ย ย ย ย border: 2px solid var(--color-primary);
ย ย ย ย ย ย box-shadow: 0 0 10px var(--color-primary);
ย ย ย ย }

ย ย ย ย /* Destaque para o campo de nome */
ย ย ย ย .name-focus {
ย ย ย ย ย ย box-shadow: 0 0 15px #facc15; /* Yellow-400 */
ย ย ย ย ย ย animation: pulse-name 1.5s infinite;
ย ย ย ย }
ย ย ย ย @keyframes pulse-name {
ย ย ย ย ย ย 0% { box-shadow: 0 0 5px #facc15; }
ย ย ย ย ย ย 50% { box-shadow: 0 0 15px #facc15; }
ย ย ย ย ย ย 100% { box-shadow: 0 0 5px #facc15; }
ย ย ย ย }
ย ย </style>
</head>
<body class="dark-mode">
ย ยย
ย ย ย ย <script type="module">
ย ย ย ย import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
ย ย ย ย import { getAuth, signInAnonymously, signInWithCustomToken, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";
ย ย ย ย import { getFirestore, collection, onSnapshot, addDoc, serverTimestamp, setLogLevel } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";
ย ย ย ยย
ย ย ย ย // Variรกveis globais obrigatรณrias (mantidas)
ย ย ย ย const appId = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id';
ย ย ย ย const firebaseConfig = typeof __firebase_config !== 'undefined' ? JSON.parse(__firebase_config) : {};
ย ย ย ยย
ย ย ย ย // Inicializaรงรฃo
ย ย ย ย const app = initializeApp(firebaseConfig);
ย ย ย ย const db = getFirestore(app);
ย ย ย ย const auth = getAuth(app);
ย ย ย ย window.auth = auth;ย
ย ย ย ยย
ย ย ย ย setLogLevel('Debug');

ย ย ย ย let userId = null;
ย ย ย ย let dbReady = false;

ย ย ย ย // >>>>>>>>>>>>>>>>>>>>>> ALTERAรรO FEITA AQUI <<<<<<<<<<<<<<<<<<<<
ย ย ย ย // Referรชncia da Coleรงรฃo de Scores ajustada para "resultados"
ย ย ย ย const SCORES_COLLECTION = "resultados"; 

ย ย ย ย // -----------------------------------------------------------
ย ย ย ย // 1. AUTENTICAรรO E INICIALIZAรรO
ย ย ย ย // -----------------------------------------------------------

ย ย ย ย async function authenticate() {
ย ย ย ย ย ย try {
ย ย ย ย ย ย ย ย if (typeof __initial_auth_token !== 'undefined' && __initial_auth_token) {
ย ย ย ย ย ย ย ย ย ย await signInWithCustomToken(auth, __initial_auth_token);
ย ย ย ย ย ย ย ย } else {
ย ย ย ย ย ย ย ย ย ย await signInAnonymously(auth);
ย ย ย ย ย ย ย ย }
ย ย ย ย ย ย } catch (error) {
ย ย ย ย ย ย ย ย console.error("Erro na autenticaรงรฃo:", error);
ย ย ย ย ย ย }
ย ย ย ย }

ย ย ย ย onAuthStateChanged(auth, (user) => {
ย ย ย ย ย ย if (user) {
ย ย ย ย ย ย ย ย userId = user.uid;ย
ย ย ย ย ย ย ย ย dbReady = true;ย
ย ย ย ย ย ย ย ย console.log("Usuรกrio pronto:", userId);
ย ย ย ย ย ย ย ย loadRankingListener();
ย ย ย ย ย ย } else {
ย ย ย ย ย ย ย ย // Fallback para ID, mas o dbReady permanece false se a autenticaรงรฃo falhar
ย ย ย ย ย ย ย ย userId = crypto.randomUUID();ย
ย ย ย ย ย ย ย ย dbReady = false;ย
ย ย ย ย ย ย ย ย console.warn("Autenticaรงรฃo pendente ou falhou. Ranking indisponรญvel.");
ย ย ย ย ย ย }
ย ย ย ย ย ยย
ย ย ย ย ย ย document.getElementById('user-id').textContent = `ID: ${userId.substring(0, 8)}`;
ย ย ย ย });

ย ย ย ย // -----------------------------------------------------------
ย ย ย ย // 2. LรGICA DO RANKING (FIRESTORE)
ย ย ย ย // -----------------------------------------------------------

ย ย ย ย window.saveScore = async (score) => {
ย ย ย ย ย ย if (!dbReady) {
ย ย ย ย ย ย ย ย console.error("Firestore nรฃo estรก pronto. Verifique a autenticaรงรฃo.");
ย ย ย ย ย ย ย ย return;
ย ย ย ย ย ย }
ย ย ย ย ย ยย
ย ย ย ย ย ย // Garante que o nome final seja o nome digitado ou um fallback
ย ย ย ย ย ย const finalUserName = window.playerName || `Jogador ${userId.substring(0, 4)}...`;

ย ย ย ย ย ย const playerDoc = {
ย ย ย ย ย ย ย ย userId: userId,
ย ย ย ย ย ย ย ย userName: finalUserName,ย
ย ย ย ย ย ย ย ย score: score,ย
ย ย ย ย ย ย ย ย timestamp: serverTimestamp(),
ย ย ย ย ย ย ย ย date: new Date().toISOString().split('T')[0] // Data para ranking diรกrio
ย ย ย ย ย ย };
ย ย ย ย ย ยย
ย ย ย ย ย ย // Salva o nome usado nesta sessรฃo para destaque no ranking
ย ย ย ย ย ย window.lastSubmittedName = finalUserName;

ย ย ย ย ย ย try {
ย ย ย ย ย ย ย ย await addDoc(collection(db, SCORES_COLLECTION), playerDoc);
ย ย ย ย ย ย ย ย console.log("Pontuaรงรฃo da sessรฃo salva com sucesso!");
ย ย ย ย ย ย } catch (e) {
ย ย ย ย ย ย ย ย console.error("Erro ao adicionar documento: ", e);
ย ย ย ย ย ย }
ย ย ย ย };

ย ย ย ย function loadRankingListener() {
ย ย ย ย ย ย if (!dbReady) return;
ย ย ย ย ย ยย
ย ย ย ย ย ย const q = collection(db, SCORES_COLLECTION);
ย ย ย ย ย ยย
ย ย ย ย ย ย // Listener em tempo real
ย ย ย ย ย ย onSnapshot(q, (snapshot) => {
ย ย ย ย ย ย ย ย const allScores = [];
ย ย ย ย ย ย ย ย snapshot.forEach((doc) => {
ย ย ย ย ย ย ย ย ย ย const data = doc.data();
ย ย ย ย ย ย ย ย ย ย if (data.score !== undefined) {
ย ย ย ย ย ย ย ย ย ย ย ย ยallScores.push({ id: doc.id, ...data });
ย ย ย ย ย ย ย ย ย ย }
ย ย ย ย ย ย ย ย });
ย ย ย ย ย ย ย ย renderHallDaFama(allScores);
ย ย ย ย ย ย }, (error) => {
ย ย ย ย ย ย ย ย console.error("Erro ao ouvir o ranking: ", error);ย
ย ย ย ย ย ย ย ย document.getElementById('ranking-list').innerHTML = `<p class="text-red-400">Erro ao carregar ranking. Verifique as permissรตes do Firebase.</p>`;
ย ย ย ย ย ย });
ย ย ย ย }

ย ย ย ย function renderHallDaFama(scores) {
ย ย ย ย ย ย const rankingList = document.getElementById('ranking-list');
ย ย ย ย ย ย if (!rankingList) return;
ย ย ย ย ย ย rankingList.innerHTML = '';
ย ย ย ย ย ยย
ย ย ย ย ย ย const today = new Date().toISOString().split('T')[0];

ย ย ย ย ย ย // Filtrar scores do dia
ย ย ย ย ย ย const dailyScores = scores.filter(s => s.date === today);

ย ย ย ย ย ย // Agrupar: Pegar a MAIOR pontuaรงรฃo de CADA usuรกrio do dia
ย ย ย ย ย ย const dailyUserScoresMap = dailyScores.reduce((acc, score) => {
ย ย ย ย ย ย ย ย const currentBest = acc[score.userId] ? acc[score.userId].score : 0;
ย ย ย ย ย ย ย ย // Se a pontuaรงรฃo for maior, ou se o usuรกrio atual for o รบltimo a enviar (para garantir o destaque)
ย ย ย ย ย ย ย ย if (score.score > currentBest || (score.userName === window.lastSubmittedName && score.score === currentBest)) {
ย ย ย ย ย ย ย ย ย ย acc[score.userId] = {ย
ย ย ย ย ย ย ย ย ย ย ย ย score: score.score,ย
ย ย ย ย ย ย ย ย ย ย ย ย userName: score.userNameย
ย ย ย ย ย ย ย ย ย ย };
ย ย ย ย ย ย ย ย }
ย ย ย ย ย ย ย ย return acc;
ย ย ย ย ย ย }, {});

ย ย ย ย ย ย const rankedDaily = Object.values(dailyUserScoresMap)
ย ย ย ย ย ย ย ย .sort((a, b) => b.score - a.score) // Ordena pela maior pontuaรงรฃo
ย ย ย ย ย ย ย ย .slice(0, 10); // Top 10

ย ย ย ย ย ย if (rankedDaily.length === 0) {
ย ย ย ย ย ย ย ย rankingList.innerHTML = `<p class="text-gray-400 text-center py-4">Ninguรฉm jogou hoje ainda. Seja o primeiro!</p>`;
ย ย ย ย ย ย ย ย return;
ย ย ย ย ย ย }

ย ย ย ย ย ย rankedDaily.forEach((entry, index) => {
ย ย ย ย ย ย ย ย const rankClass = index === 0 ? 'bg-yellow-500/20 text-yellow-300 font-bold neon-border' :ย
ย ย ย ย ย ย ย ย ย ย ย ย ย ย ย ย ย index === 1 ? 'bg-gray-400/20 text-gray-300' :
ย ย ย ย ย ย ย ย ย ย ย ย ย ย ย ย ย index === 2 ? 'bg-amber-700/20 text-amber-500' : 'bg-gray-700/20 text-gray-300';
ย ย ย ย ย ย ย ยย
ย ย ย ย ย ย ย ย // Destaque para o nome que acabou de ser enviado
ย ย ย ย ย ย ย ย const isLastPlayer = (entry.userName === window.lastSubmittedName);
ย ย ย ย ย ย ย ย const userHighlight = isLastPlayer ? ' neon-border border-indigo-500' : '';

ย ย ย ย ย ย ย ย rankingList.innerHTML += `
ย ย ย ย ย ย ย ย ย ย <li class="flex justify-between items-center p-3 rounded-lg transition duration-200 ${rankClass} ${userHighlight}">
ย ย ย ย ย ย ย ย ย ย ย ย <span class="w-1/12 text-center text-xl">${index + 1}ยฐ</span>
ย ย ย ย ย ย ย ย ย ย ย ย <span class="w-8/12 truncate ${isLastPlayer ? 'text-indigo-400 font-bold' : ''}">${entry.userName} ${isLastPlayer ? '(Vocรช)' : ''}</span>
ย ย ย ย ย ย ย ย ย ย ย ย <span class="w-3/12 text-right font-orbitron text-lg">${entry.score} pts</span>
ย ย ย ย ย ย ย ย ย ย </li>
ย ย ย ย ย ย ย ย `;
ย ย ย ย ย ย });
ย ย ย ย ย ยย
ย ย ย ย ย ย // Limpa o destaque apรณs renderizar (o prรณximo jogador terรก um novo lastSubmittedName)
ย ย ย ย ย ย // Note: O destaque serรก limpo quando a pรกgina for recarregada ou no prรณximo envio.
ย ย ย ย }

ย ย ย ย window.addEventListener('load', authenticate);
ย ย </script>
ย ยย
ย ย ย ย ย ย ย ย <script>
ย ย ย ย // Variรกvel global para o nome (definida na Home)
ย ย ย ย window.playerName = 'Jogador Anรดnimo';
ย ย ย ย window.lastSubmittedName = 'Jogador Anรดnimo'; // Usado para destacar o รบltimo jogador no ranking
ย ย ย ยย
ย ย ย ย let isDarkMode = true;
ย ย ย ย let timerInterval;
ย ย ย ย let timeRemaining = 180; // Duraรงรฃo total da sessรฃo (3 minutos)
ย ย ย ย let quizActive = false;
ย ย ย ยย
ย ย ย ย let currentChallengeIndex = 0; // รndice da pergunta atual na lista embaralhada
ย ย ย ย let sessionChallenges = [];ย ย // Lista de desafios embaralhados para a sessรฃo
ย ย ย ย let currentSessionScore = 0;ย ย// Pontuaรงรฃo da sessรฃo atual
ย ย ย ย const SCORE_PER_QUESTION = 100;
ย ย ย ย const INITIAL_TIME = 180;ย

ย ย ย ย // Funรงรฃo de embaralhamento Fisher-Yates
ย ย ย ย function shuffleArray(array) {
ย ย ย ย ย ย for (let i = array.length - 1; i > 0; i--) {
ย ย ย ย ย ย ย ย const j = Math.floor(Math.random() * (i + 1));
ย ย ย ย ย ย ย ย [array[i], array[j]] = [array[j], array[i]];
ย ย ย ย ย ย }
ย ย ย ย ย ย return array;
ย ย ย ย }

ย ย ย ย // Banco de Perguntas (FรCEIS E COTIDIANAS) - MANTIDO NO CรDIGO
ย ย ย ย const CHALLENGES = [
ย ย ย ย ย ย {ย
ย ย ย ย ย ย ย ย id: 1,ย
ย ย ย ย ย ย ย ย title: "O Enigma do Supermercado",ย
ย ย ย ย ย ย ย ย question: "Se 4 maรงรฃs custam R$ 8,00, e vocรช tem R$ 15,00, quantas maรงรฃs vocรช pode comprar no mรกximo? (Responda o nรบmero de maรงรฃs)",ย
ย ย ย ย ย ย ย ย answer: 7ย
ย ย ย ย ย ย },
ย ย ย ย ย ย {ย
ย ย ย ย ย ย ย ย id: 2,ย
ย ย ย ย ย ย ย ย title: "O Cรณdigo da Reuniรฃo",ย
ย ย ย ย ย ย ย ย question: "Se a reuniรฃo comeรงa รs 9:30 e dura 45 minutos, a que horas (em minutos apรณs a hora cheia) ela termina? (Responda apenas o minuto)",ย
ย ย ย ย ย ย ย ย answer: 15ย
ย ย ย ย ย ย },
ย ย ย ย ย ย {ย
ย ย ย ย ย ย ย ย id: 3,ย
ย ย ย ย ย ย ย ย title: "A Regra dos Trรชs Irmรฃos",ย
ย ย ย ย ย ย ย ย question: "Tenho 3 filhos. O primeiro tem o dobro da idade do segundo, e o terceiro tem 5 anos. Se a soma das idades รฉ 20, quantos anos tem o filho do meio? (Responda a idade)",ย
ย ย ย ย ย ย ย ย answer: 5ย
ย ย ย ย ย ย },
ย ย ย ย ย ย {ย
ย ย ย ย ย ย ย ย id: 4,ย
ย ย ย ย ย ย ย ย title: "O Desconto da Roupa",ย
ย ย ย ย ย ย ย ย question: "Uma camisa custa R$ 100,00. Vocรช consegue 20% de desconto. Se vocรช pagar com uma nota de R$ 50,00, qual serรก o seu troco? (Responda o valor em Reais, sem vรญrgulas)",ย
ย ย ย ย ย ย ย ย answer: 30ย
ย ย ย ย ย ย },
ย ย ย ย ย ย ย{ย
ย ย ย ย ย ย ย ย id: 5,ย
ย ย ย ย ย ย ย ย title: "A Velocidade Mรฉdia",ย
ย ย ย ย ย ย ย ย question: "Vocรช dirige por 2 horas a 60 km/h. Quantos quilรดmetros vocรช percorreu? (Responda apenas o nรบmero)",ย
ย ย ย ย ย ย ย ย answer: 120
ย ย ย ย ย ย },
ย ย ย ย ย ย {ย
ย ย ย ย ย ย ย ย id: 6,ย
ย ย ย ย ย ย ย ย title: "A Pizza Dividida",ย
ย ย ย ย ย ย ย ย question: "Uma pizza tem 8 fatias. Se 3 amigos comem 2 fatias cada um, quantas fatias sobram? (Responda o nรบmero de fatias)",ย
ย ย ย ย ย ย ย ย answer: 2
ย ย ย ย ย ย },
ย ย ย ย ย ย {ย
ย ย ย ย ย ย ย ย id: 7,ย
ย ย ย ย ย ย ย ย title: "O Enigma do Alfabeto",ย
ย ย ย ย ย ย ย ย question: "Quantas vogais (A, E, I, O, U) existem na palavra 'METINS'? (Responda o nรบmero)",ย
ย ย ย ย ย ย ย ย answer: 2
ย ย ย ย ย ย },
ย ย ย ย ย ย {ย
ย ย ย ย ย ย ย ย id: 8,ย
ย ย ย ย ย ย ย ย title: "O Tempo de Viagem",ย
ย ย ย ย ย ย ย ย question: "Um carro viaja a 60 km/h. Quantos quilรดmetros ele percorre em 3 horas? (Responda o nรบmero)",ย
ย ย ย ย ย ย ย ย answer: 180
ย ย ย ย ย ย },
ย ย ย ย ย ย {ย
ย ย ย ย ย ย ย ย id: 9,ย
ย ย ย ย ย ย ย ย title: "O Enigma dos Planetas",ย
ย ย ย ย ย ย ย ย question: "Quantos planetas existem no nosso Sistema Solar? (Responda o nรบmero)",ย
ย ย ย ย ย ย ย ย answer: 8
ย ย ย ย ย ย },
ย ย ย ย ย ย {ย
ย ย ย ย ย ย ย ย id: 10,ย
ย ย ย ย ย ย ย ย title: "O Enigma do Tempo",ย
ย ย ย ย ย ย ย ย question: "Quantos minutos existem em uma hora e meia? (Responda o nรบmero)",ย
ย ย ย ย ย ย ย ย answer: 90
ย ย ย ย ย ย },
ย ย ย ย ย ย {ย
ย ย ย ย ย ย ย ย id: 11,ย
ย ย ย ย ย ย ย ย title: "O Desafio do Triรขngulo",ย
ย ย ย ย ย ย ย ย question: "Quantos lados tem um triรขngulo? (Responda o nรบmero)",ย
ย ย ย ย ย ย ย ย answer: 3
ย ย ย ย ย ย },
ย ย ย ย ย ย {ย
ย ย ย ย ย ย ย ย id: 12,ย
ย ย ย ย ย ย ย ย title: "A Conta Rรกpida",ย
ย ย ย ย ย ย ย ย question: "Qual รฉ o resultado de 10 + (5 * 2)? (Responda o nรบmero)",ย
ย ย ย ย ย ย ย ย answer: 20
ย ย ย ย ย ย },
ย ย ย ย ย ย {ย
ย ย ย ย ย ย ย ย id: 13,ย
ย ย ย ย ย ย ย ย title: "Cรกlculo Mental Rรกpido I",ย
ย ย ย ย ย ย ย ย question: "Qual รฉ o resultado de 15 - 8? (Responda o nรบmero)",ย
ย ย ย ย ย ย ย ย answer: 7
ย ย ย ย ย ย },
ย ย ย ย ย ย {ย
ย ย ย ย ย ย ย ย id: 14,ย
ย ย ย ย ย ย ย ย title: "O dobro do nรบmero",ย
ย ย ย ย ย ย ย ย question: "Qual รฉ o dobro de 15? (Responda o nรบmero)",ย
ย ย ย ย ย ย ย ย answer: 30
ย ย ย ย ย ย },
ย ย ย ย ย ย {ย
ย ย ย ย ย ย ย ย id: 15,ย
ย ย ย ย ย ย ย ย title: "Divisรฃo Fรกcil",ย
ย ย ย ย ย ย ย ย question: "Se vocรช dividir 50 por 2, qual รฉ o resultado? (Responda o nรบmero)",ย
ย ย ย ย ย ย ย ย answer: 25
ย ย ย ย ย ย },
ย ย ย ย ย ย {ย
ย ย ย ย ย ย ย ย id: 16,ย
ย ย ย ย ย ย ย ย title: "Pares de Meias",ย
ย ย ย ย ย ย ย ย question: "Quantos pares vocรช pode formar com 16 meias? (Responda o nรบmero)",ย
ย ย ย ย ย ย ย ย answer: 8
ย ย ย ย ย ย },
ย ย ย ย ย ย {ย
ย ย ย ย ย ย ย ย id: 17,ย
ย ย ย ย ย ย ย ย title: "Multiplicaรงรฃo Bรกsica",ย
ย ย ย ย ย ย ย ย question: "Quanto รฉ 5 vezes 7? (Responda o nรบmero)",ย
ย ย ย ย ย ย ย ย answer: 35
ย ย ย ย ย ย },
ย ย ย ย ย ย {ย
ย ย ย ย ย ย ย ย id: 18,ย
ย ย ย ย ย ย ย ย title: "Os Dias da Semana",ย
ย ย ย ย ย ย ย ย question: "Quantos dias hรก em duas semanas? (Responda o nรบmero)",ย
ย ย ย ย ย ย ย ย answer: 14
ย ย ย ย ย ย },
ย ย ย ย ย ย {ย
ย ย ย ย ย ย ย ย id: 19,ย
ย ย ย ย ย ย ย ย title: "Idade dos Irmรฃos",ย
ย ย ย ย ย ย ย ย question: "Se vocรช tem 10 anos e seu irmรฃo รฉ 2 anos mais velho, quantos anos ele tem? (Responda o nรบmero)",ย
ย ย ย ย ย ย ย ย answer: 12
ย ย ย ย ย ย },
ย ย ย ย ย ย {ย
ย ย ย ย ย ย ย ย id: 20,ย
ย ย ย ย ย ย ย ย title: "O Peso do Pรฃo",ย
ย ย ย ย ย ย ย ย question: "Se um padeiro faz 50 pรฃes em uma hora, quantos pรฃes ele faz em meia hora? (Responda o nรบmero)",ย
ย ย ย ย ย ย ย ย answer: 25
ย ย ย ย ย ย },
ย ย ย ย ย ย {ย
ย ย ย ย ย ย ย ย id: 21,ย
ย ย ย ย ย ย ย ย title: "A Diferenรงa de Idade",ย
ย ย ย ย ย ย ย ย question: "Joรฃo tem 30 anos e Maria tem 22. Qual รฉ a diferenรงa de idade entre eles? (Responda o nรบmero)",ย
ย ย ย ย ย ย ย ย answer: 8
ย ย ย ย ย ย },
ย ย ย ย ย ย {ย
ย ย ย ย ย ย ย ย id: 22,ย
ย ย ย ย ย ย ย ย title: "Mรบltiplos de 5",ย
ย ย ย ย ย ย ย ย question: "Qual รฉ o prรณximo mรบltiplo de 5 depois de 35? (Responda o nรบmero)",ย
ย ย ย ย ย ย ย ย answer: 40
ย ย ย ย ย ย },
ย ย ย ย ย ย {ย
ย ย ย ย ย ย ย ย id: 23,ย
ย ย ย ย ย ย ย ย title: "As Quatro Estaรงรตes",ย
ย ย ย ย ย ย ย ย question: "Quantas estaรงรตes existem no ano? (Responda o nรบmero)",ย
ย ย ย ย ย ย ย ย answer: 4
ย ย ย ย ย ย },
ย ย ย ย ย ย {ย
ย ย ย ย ย ย ย ย id: 24,ย
ย ย ย ย ย ย ย ย title: "Ordem das Operaรงรตes",ย
ย ย ย ย ย ย ย ย question: "Qual o resultado de 2 * (4 + 6)? (Responda o nรบmero)",ย
ย ย ย ย ย ย ย ย answer: 20
ย ย ย ย ย ย },
ย ย ย ย ย ย {ย
ย ย ย ย ย ย ย ย id: 25,ย
ย ย ย ย ย ย ย ย title: "Metade do Tempo",ย
ย ย ย ย ย ย ย ย question: "Metade de 60 minutos รฉ igual a quantos minutos? (Responda o nรบmero)",ย
ย ย ย ย ย ย ย ย answer: 30
ย ย ย ย ย ย }
ย ย ย ย ];
ย ย ย ยย
ย ย ย ย /**
ย ย ย ย ย* Lรณgica de navegaรงรฃo: Oculta todas as views e mostra a view selecionada.
ย ย ย ย ย*/
ย ย ย ย window.navigate = (viewId) => {
ย ย ย ย ย ย document.querySelectorAll('.view-content').forEach(view => {
ย ย ย ย ย ย ย ย view.classList.add('hidden');
ย ย ย ย ย ย ย ย view.classList.remove('opacity-100');
ย ย ย ย ย ย });
ย ย ย ย ย ยย
ย ย ย ย ย ย const targetView = document.getElementById(`view-${viewId}`);
ย ย ย ย ย ย if (targetView) {
ย ย ย ย ย ย ย ย targetView.classList.remove('hidden');
ย ย ย ย ย ย ย ย setTimeout(() => targetView.classList.add('opacity-100'), 10);
ย ย ย ย ย ย }

ย ย ย ย ย ย // Aรงรตes especรญficas ao navegar
ย ย ย ย ย ย if (viewId === 'desafio') {
ย ย ย ย ย ย ย ย if (!quizActive) {
ย ย ย ย ย ย ย ย ย ย // Inicia a sessรฃo de quiz (que agora faz o embaralhamento)
ย ย ย ย ย ย ย ย ย ย startQuizSession();
ย ย ย ย ย ย ย ย }
ย ย ย ย ย ย } else {
ย ย ย ย ย ย ย ย stopTimer(); // Para o timer se sair do desafio
ย ย ย ย ย ย }
ย ย ย ย };

ย ย ย ย /**
ย ย ย ย ย* 1. Valida o nome na Home View.
ย ย ย ย ย* 2. Se for vรกlido, armazena globalmente e navega para o Desafio.
ย ย ย ย ย*/
ย ย ย ย window.startChallengeFromHome = () => {
ย ย ย ย ย ย const nameInput = document.getElementById('home-player-name');
ย ย ย ย ย ย const feedback = document.getElementById('name-feedback');
ย ย ย ย ย ย const nameValue = nameInput.value.trim();

ย ย ย ย ย ย if (nameValue.length < 2) {
ย ย ย ย ย ย ย ย feedback.textContent = "โ๏ธ Por favor, digite seu nome ou apelido para continuar.";
ย ย ย ย ย ย ย ย // Adiciona um efeito de flash/chacoalhar no input para chamar a atenรงรฃo
ย ย ย ย ย ย ย ย nameInput.classList.add('animate-pulse', 'border-red-500');
ย ย ย ย ย ย ย ย setTimeout(() => {
ย ย ย ย ย ย ย ย ย ย nameInput.classList.remove('animate-pulse', 'border-red-500');
ย ย ย ย ย ย ย ย }, 1000);
ย ย ย ย ย ย ย ย return;
ย ย ย ย ย ย }
ย ย ย ย ย ยย
ย ย ย ย ย ย feedback.textContent = "";
ย ย ย ย ย ย window.playerName = nameValue; // Armazena o nome globalmente
ย ย ย ย ย ย navigate('desafio');
ย ย ย ย };

ย ย ย ย /**
ย ย ย ย ย* Inicia a SESSรO de Quiz: Reseta o estado, o timer e EMBARALHA as perguntas.
ย ย ย ย ย*/
ย ย ย ย function startQuizSession() {
ย ย ย ย ย ย // 1. Cria e embaralha a lista de desafios para a sessรฃo (usando o array CHALLENGES fixo)
ย ย ย ย ย ย sessionChallenges = shuffleArray([...CHALLENGES]);
ย ย ย ย ย ย currentChallengeIndex = 0; // Comeรงa sempre do primeiro desafio embaralhado
ย ย ย ย ย ย quizActive = true;
ย ย ย ย ย ย timeRemaining = INITIAL_TIME;
ย ย ย ย ย ย currentSessionScore = 0;
ย ย ย ย ย ยย
ย ย ย ย ย ย // 2. Reseta o estado da UI e feedback
ย ย ย ย ย ย document.getElementById('resposta').value = '';
ย ย ย ย ย ย document.getElementById('quiz-area').classList.remove('hidden');
ย ย ย ย ย ย document.getElementById('quiz-completed-message').classList.add('hidden');
ย ย ย ย ย ย document.getElementById('next-challenge-area').classList.add('hidden');
ย ย ย ย ย ยย
ย ย ย ย ย ย // 3. Carrega a primeira pergunta do array embaralhado
ย ย ย ย ย ย loadNewQuestion();
ย ย ย ย ย ยย
ย ย ย ย ย ย // 4. Inicia o Timer
ย ย ย ย ย ย updateTimerDisplay();ย
ย ย ย ย ย ย updateScoreDisplay();
ย ย ย ย ย ย startTimer();
ย ย ย ย }
ย ย ย ยย
ย ย ย ย /**
ย ย ย ย ย* Carrega a prรณxima pergunta da lista embaralhada da sessรฃo.
ย ย ย ย ย*/
ย ย ย ย function loadNewQuestion() {
ย ย ย ย ย ย // 1. Verifica se todos os desafios foram concluรญdos
ย ย ย ย ย ย if (currentChallengeIndex >= sessionChallenges.length) {
ย ย ย ย ย ย ย ย // MODIFICAรรO: Mensagem personalizada para conclusรฃo total
ย ย ย ย ย ย ย ย endQuizSession("Parabรฉns! Vocรช รฉ uma capivarinha inteligente!", false);
ย ย ย ย ย ย ย ย return;
ย ย ย ย ย ย }
ย ย ย ย ย ยย
ย ย ย ย ย ย // 2. Pega o desafio da posiรงรฃo atual no array embaralhado
ย ย ย ย ย ย const challenge = sessionChallenges[currentChallengeIndex];
ย ย ย ย ย ยย
ย ย ย ย ย ย // Atualiza o conteรบdo do desafio
ย ย ย ย ย ย document.getElementById('challenge-title').textContent = challenge.title;
ย ย ย ย ย ย document.getElementById('challenge-question').innerHTML = `**Enigma:** ${challenge.question}`;
ย ย ย ย ย ยย
ย ย ย ย ย ย // Limpa o campo de resposta
ย ย ย ย ย ย document.getElementById('resposta').value = '';
ย ย ย ย ย ยย
ย ย ย ย ย ย // Feedback de acerto (se houver)
ย ย ย ย ย ย const feedbackEl = document.getElementById('question-feedback');
ย ย ย ย ย ย feedbackEl.textContent = "Nova pergunta!";
ย ย ย ย ย ย feedbackEl.classList.remove('text-red-400');
ย ย ย ย ย ย feedbackEl.classList.add('text-green-400');
ย ย ย ย ย ย setTimeout(() => { feedbackEl.textContent = ""; }, 1500);
ย ย ย ย }

ย ย ย ย /**
ย ย ย ย ย* Reseta o jogo, autentica novo jogador e forรงa a volta para a Home.
ย ย ย ย ย* Essa รฉ a funรงรฃo chamada para o "Prรณximo Jogador".
ย ย ย ย ย*/
ย ย ย ย window.nextChallenge = async () => {
ย ย ย ย ย ย // Re-autentica o usuรกrio para gerar um novo ID (simulando um novo jogador)
ย ย ย ย ย ย const newAuth = window.auth;ย
ย ย ย ย ย ย if (newAuth) {
ย ย ย ย ย ย ย ย try {
ย ย ย ย ย ย ย ย ย ย // Tenta forรงar um novo login anรดnimo para ter um novo UID,
ย ย ย ย ย ย ย ย ย ย // mas o ambiente Canvas geralmente mantรฉm o mesmo atรฉ o fim da sessรฃo da pรกgina.
ย ย ย ย ย ย ย ย ย ย // O importante รฉ limpar o nome e forรงar a re-entrada.
ย ย ย ย ย ย ย ย ย ย await newAuth.signInAnonymously(newAuth);ย
ย ย ย ย ย ย ย ย ย ย console.log("Novo jogador anรดnimo autenticado (se o ambiente permitir).");
ย ย ย ย ย ย ย ย } catch (error) {
ย ย ย ย ย ย ย ย ย ย console.error("Erro ao autenticar novo jogador:", error);
ย ย ย ย ย ย ย ย }
ย ย ย ย ย ย }
ย ย ย ย ย ยย
ย ย ย ย ย ย // Limpa o nome para o prรณximo jogador digitar o seu
ย ย ย ย ย ย document.getElementById('home-player-name').value = '';
ย ย ย ย ย ย window.playerName = 'Jogador Anรดnimo'; // Limpa o nome interno tambรฉm
ย ย ย ย ย ย window.lastSubmittedName = 'Jogador Anรดnimo'; // Limpa o destaque de ranking
ย ย ย ย ย ยย
ย ย ย ย ย ย // Zera o quiz
ย ย ย ย ย ย quizActive = false;ย
ย ย ย ย ย ยย
ย ย ย ย ย ย // Vai para a Home para que o prรณximo jogador insira seu nome
ย ย ย ย ย ย navigate('home');
ย ย ย ย }

ย ย ย ย /**
ย ย ย ย ย* Inicia o Timer Regressivo da SESSรO.
ย ย ย ย ย*/
ย ย ย ย function startTimer() {
ย ย ย ย ย ย stopTimer();
ย ย ย ย ย ย timerInterval = setInterval(() => {
ย ย ย ย ย ย ย ย if (timeRemaining > 0 && quizActive) {
ย ย ย ย ย ย ย ย ย ย timeRemaining--;
ย ย ย ย ย ย ย ย ย ย updateTimerDisplay();
ย ย ย ย ย ย ย ย } else if (quizActive) {
ย ย ย ย ย ย ย ย ย ย // Tempo esgotado
ย ย ย ย ย ย ย ย ย ย endQuizSession("O tempo acabou!", false);
ย ย ย ย ย ย ย ย }
ย ย ย ย ย ย }, 1000);
ย ย ย ย }
ย ย ย ยย
ย ย ย ย /**
ย ย ย ย ย* Para o Timer Regressivo.
ย ย ย ย ย*/
ย ย ย ย function stopTimer() {
ย ย ย ย ย ย clearInterval(timerInterval);
ย ย ย ย }

ย ย ย ย /**
ย ย ย ย ย* Atualiza a exibiรงรฃo do Timer.
ย ย ย ย ย*/
ย ย ย ย function updateTimerDisplay() {
ย ย ย ย ย ย const minutes = String(Math.floor(timeRemaining / 60)).padStart(2, '0');
ย ย ย ย ย ย const seconds = String(timeRemaining % 60).padStart(2, '0');
ย ย ย ย ย ย document.getElementById('timer').textContent = `${minutes}:${seconds}`;
ย ย ย ย }
ย ย ย ยย
ย ย ย ย /**
ย ย ย ย ย* Atualiza a exibiรงรฃo da Pontuaรงรฃo.
ย ย ย ย ย*/
ย ย ย ย function updateScoreDisplay() {
ย ย ย ย ย ย document.getElementById('score').textContent = `${currentSessionScore}`;
ย ย ย ย }

ย ย ย ย /**
ย ย ย ย ย* Envia a resposta da pergunta ATUAL.
ย ย ย ย ย*/
ย ย ย ย window.submitQuiz = () => {
ย ย ย ย ย ย if (!quizActive) return;

ย ย ย ย ย ย const challenge = sessionChallenges[currentChallengeIndex]; // Pega o desafio da lista embaralhada
ย ย ย ย ย ย const answerInput = document.getElementById('resposta');
ย ย ย ย ย ย // Remove espaรงos e converte para nรบmero
ย ย ย ย ย ย const userResponse = parseInt(answerInput.value.trim());ย
ย ย ย ย ย ย const feedbackEl = document.getElementById('question-feedback');

ย ย ย ย ย ย if (userResponse === challenge.answer) {
ย ย ย ย ย ย ย ย // ACERTOU
ย ย ย ย ย ย ย ย currentSessionScore += SCORE_PER_QUESTION;
ย ย ย ย ย ย ย ย updateScoreDisplay();
ย ย ย ย ย ย ย ยย
ย ย ย ย ย ย ย ย // Avanรงa para a prรณxima pergunta e a carrega
ย ย ย ย ย ย ย ย currentChallengeIndex++;ย
ย ย ย ย ย ย ย ย loadNewQuestion();ย
ย ย ย ย ย ย } else {
ย ย ย ย ย ย ย ย // ERROU
ย ย ย ย ย ย ย ย feedbackEl.textContent = `Resposta incorreta. A resposta certa era: ${challenge.answer}`;
ย ย ย ย ย ย ย ย feedbackEl.classList.remove('text-green-400');
ย ย ย ย ย ย ย ย feedbackEl.classList.add('text-red-400');
ย ย ย ย ย ย ย ยย
ย ย ย ย ย ย ย ย // Termina o jogo
ย ย ย ย ย ย ย ย endQuizSession("Vocรช errou!", true);
ย ย ย ย ย ย }
ย ย ย ย };

ย ย ย ย /**
ย ย ย ย ย* Finaliza a SESSรO de Quiz e mostra o resultado.
ย ย ย ย ย*/
ย ย ย ย function endQuizSession(reasonText, isMistake) {
ย ย ย ย ย ย stopTimer();
ย ย ย ย ย ย quizActive = false;
ย ย ย ย ย ยย
ย ย ย ย ย ย // Salva a pontuaรงรฃo final (se for maior que 0)
ย ย ย ย ย ย if (currentSessionScore > 0 && window.saveScore) {
ย ย ย ย ย ย ย ย window.saveScore(currentSessionScore);
ย ย ย ย ย ย }
ย ย ย ย ย ยย
ย ย ย ย ย ย // Esconde a รกrea do quiz
ย ย ย ย ย ย document.getElementById('quiz-area').classList.add('hidden');
ย ย ย ย ย ยย
ย ย ย ย ย ย // Mostra a mensagem de conclusรฃo
ย ย ย ย ย ย const completedMsg = document.getElementById('quiz-completed-message');
ย ย ย ย ย ย completedMsg.classList.remove('hidden');
ย ย ย ย ย ย document.getElementById('next-challenge-area').classList.remove('hidden'); // Exibe o botรฃo Prรณximo Jogador
ย ย ย ย ย ยย
ย ย ย ย ย ย document.getElementById('final-score-text').innerHTML = `
ย ย ย ย ย ย ย ย <span class="text-2xl font-bold">${reasonText}</span><br>
ย ย ย ย ย ย ย ย Pontuaรงรฃo Final: ${currentSessionScore} Pontos!
ย ย ย ย ย ย `;
ย ย ย ย ย ยย
ย ย ย ย ย ย if (isMistake) {
ย ย ย ย ย ย ย ย completedMsg.classList.remove('bg-green-500/20', 'text-green-300');
ย ย ย ย ย ย ย ย completedMsg.classList.add('bg-red-500/20', 'text-red-300');
ย ย ย ย ย ย } else {
ย ย ย ย ย ย ย ย // Se o tempo acabou ou todas as perguntas foram feitas
ย ย ย ย ย ย ย ย completedMsg.classList.remove('bg-red-500/20', 'text-red-300');
ย ย ย ย ย ย ย ย completedMsg.classList.add('bg-green-500/20', 'text-green-300');
ย ย ย ย ย ย }
ย ย ย ย ย ยย
ย ย ย ย ย ย // Vai para o Hall da Fama para mostrar o ranking em tempo real (apรณs 3 segundos de feedback)
ย ย ย ย ย ย setTimeout(() => {
ย ย ย ย ย ย ย ย navigate('hall-da-fama');
ย ย ย ย ย ย ย ยย
ย ย ย ย ย ย ย ย // Retorna automaticamente para a Home apรณs 5 segundos no Hall da Fama (Ciclo de Prรณximo Jogador)
ย ย ย ย ย ย ย ย setTimeout(() => {
ย ย ย ย ย ย ย ย ย ย window.nextChallenge(); // Reseta e navega para a Home
ย ย ย ย ย ย ย ย }, 5000);ย

ย ย ย ย ย ย }, 3000);
ย ย ย ย }
ย ย ย ยย
ย ย ย ย /**
ย ย ย ย ย* Configura os event listeners DOM que precisam esperar o carregamento.
ย ย ย ย ย*/
ย ย ย ย function setupListeners() {
ย ย ย ย ย ย document.getElementById('mode-toggle').addEventListener('click', () => {
ย ย ย ย ย ย ย ย isDarkMode = !isDarkMode;
ย ย ย ย ย ย ย ย const body = document.body;
ย ย ย ย ย ย ย ย const sunIcon = document.getElementById('sun-icon');
ย ย ย ย ย ย ย ยย
ย ย ย ย ย ย ย ย if (isDarkMode) {
ย ย ย ย ย ย ย ย ย ย body.classList.remove('light-mode');
ย ย ย ย ย ย ย ย ย ย body.classList.add('dark-mode');
ย ย ย ย ย ย ย ย ย ย sunIcon.classList.remove('text-gray-900');
ย ย ย ย ย ย ย ย ย ย sunIcon.classList.add('text-yellow-400');
ย ย ย ย ย ย ย ย ย ย sunIcon.innerHTML = `<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 4 0 11-8 0 4 4 0 018 0z" />`;

ย ย ย ย ย ย ย ย } else {
ย ย ย ย ย ย ย ย ย ย body.classList.remove('dark-mode');
ย ย ย ย ย ย ย ย ย ย body.classList.add('light-mode');
ย ย ย ย ย ย ย ย ย ย sunIcon.classList.remove('text-yellow-400');
ย ย ย ย ย ย ย ย ย ย sunIcon.classList.add('text-gray-900');
ย ย ย ย ย ย ย ย ย ย sunIcon.innerHTML = `<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z" />`;
ย ย ย ย ย ย ย ย }
ย ย ย ย ย ย });
ย ย ย ย ย ยย
ย ย ย ย ย ย // Listener do menu mobile
ย ย ย ย ย ย document.querySelector('.md\\:hidden button[onclick="toggleMobileMenu()"]').addEventListener('click', toggleMobileMenu);
ย ย ย ย }

ย ย ย ย /**
ย ย ย ย ย* Alterna a visibilidade do menu mobile.
ย ย ย ย ย*/
ย ย ย ย function toggleMobileMenu() {
ย ย ย ย ย ย const menu = document.getElementById('mobile-menu');
ย ย ย ย ย ย menu.classList.toggle('hidden');
ย ย ย ย }

ย ย ย ย // Navegaรงรฃo inicial para a Home e configuraรงรฃo de listeners
ย ย ย ย window.onload = () => {
ย ย ย ย ย ย setupListeners(); // Adiciona listeners apรณs o DOM carregar
ย ย ย ย ย ย navigate('home');
ย ย ย ย };

ย ย </script>
ย ยย
ย ย ย ย ย ย ย ย ย ย <nav class="sticky top-0 z-50 bg-gray-800 dark-mode:bg-gray-800 shadow-xl">
ย ย ย ย <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
ย ย ย ย ย ย <div class="flex items-center justify-between h-16">
ย ย ย ย ย ย ย ย ย ย ย ย ย ย ย ย <div class="flex items-center">
ย ย ย ย ย ย ย ย ย ย <span class="text-2xl font-extrabold font-orbitron text-indigo-400 cursor-pointer" onclick="navigate('home')">METINS</span>
ย ย ย ย ย ย ย ย </div>
ย ย ย ย ย ย ย ย ย ย ย ย ย ย ย ย <div class="hidden md:block">
ย ย ย ย ย ย ย ย ย ย <div class="ml-10 flex items-baseline space-x-4">
ย ย ย ย ย ย ย ย ย ย ย ย <button onclick="navigate('home')" class="nav-link text-gray-300 hover:bg-gray-700 hover:text-white px-3 py-2 rounded-md text-sm font-medium">Home</button>
ย ย ย ย ย ย ย ย ย ย ย ย <button onclick="navigate('desafio')" class="nav-link text-gray-300 hover:bg-gray-700 hover:text-white px-3 py-2 rounded-md text-sm font-medium">Desafio da Semana</button>
ย ย ย ย ย ย ย ย ย ย ย ย <button onclick="navigate('hall-da-fama')" class="nav-link text-gray-300 hover:bg-gray-700 hover:text-white px-3 py-2 rounded-md text-sm font-medium">Hall da Fama</button>
ย ย ย ย ย ย ย ย ย ย ย ย <button onclick="navigate('sobre')" class="nav-link text-gray-300 hover:bg-gray-700 
ย ย ย ย ย ย ย ย ย ย ย ย ย ย ย ย ย hover:text-white px-3 py-2 rounded-md text-sm font-medium">Sobre</button>
ย ย ย ย ย ย ย ย ย ย </div>
ย ย ย ย ย ย ย ย </div>
ย ย ย ย ย ย ย ยย
ย ย ย ย ย ย ย ย ย ย ย ย ย ย ย ย <div class="flex items-center">
ย ย ย ย ย ย ย ย ย ย <button id="mode-toggle" class="p-2 rounded-full hover:bg-gray-700 transition duration-150 mr-4">
ย ย ย ย ย ย ย ย ย ย ย ย <svg id="sun-icon" class="h-6 w-6 text-yellow-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
ย ย ย ย ย ย ย ย ย ย ย ย ย ย <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 4 0 11-8 0 4 4 0 018 0z" />
ย ย ย ย ย ย ย ย ย ย ย ย </svg>
ย ย ย ย ย ย ย ย ย ย </button>
ย ย ย ย ย ย ย ย ย ย <div class="md:hidden">
ย ย ย ย ย ย ย ย ย ย ย ย <button onclick="toggleMobileMenu()" class="inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-white hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white">
ย ย ย ย ย ย ย ย ย ย ย ย ย ย <svg class="block h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
ย ย ย ย ย ย ย ย ย ย ย ย ย ย ย ย <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
ย ย ย ย ย ย ย ย ย ย ย ย ย ย </svg>
ย ย ย ย ย ย ย ย ย ย ย ย </button>
ย ย ย ย ย ย ย ย ย ย </div>
ย ย ย ย ย ย ย ย </div>
ย ย ย ย ย ย </div>
ย ย ย ย </div>

ย ย ย ย ย ย ย ย <div class="md:hidden hidden" id="mobile-menu">
ย ย ย ย ย ย <div class="px-2 pt-2 pb-3 space-y-1 sm:px-3">
ย ย ย ย ย ย ย ย <button onclick="navigate('home'); toggleMobileMenu();" class="text-gray-300 hover:bg-gray-700 hover:text-white block px-3 py-2 rounded-md text-base font-medium w-full text-left">Home</button>
ย ย ย ย ย ย ย ย <button onclick="navigate('desafio'); toggleMobileMenu();" class="text-gray-300 hover:bg-gray-700 hover:text-white block px-3 py-2 rounded-md text-base font-medium w-full text-left">Desafio da Semana</button>
ย ย ย ย ย ย ย ย <button onclick="navigate('hall-da-fama'); toggleMobileMenu();" class="text-gray-300 hover:bg-gray-700 hover:text-white block px-3 py-2 rounded-md text-base font-medium w-full text-left">Hall da Fama</button>
ย ย ย ย ย ย ย ย <button onclick="navigate('sobre'); toggleMobileMenu();" class="text-gray-300 hover:bg-gray-700 hover:text-white block px-3 py-2 rounded-md text-base font-medium w-full text-left">Sobre</button>
ย ย ย ย ย ย </div>
ย ย ย ย </div>
ย ย </nav>

ย ย <main class="py-10">
ย ย ย ย <div class="max-w-7xl mx-auto sm:px-6 lg:px-8">
ย ย ย ย ย ยย
ย ย ย ย ย ย ย ย ย ย ย ย <div id="view-home" class="view-content transition duration-500 opacity-0 px-4">
ย ย ย ย ย ย ย ย <div class="card p-8 rounded-xl shadow-2xl">
ย ย ย ย ย ย ย ย ย ย <h1 class="text-4xl font-extrabold text-indigo-400 mb-4 font-orbitron">Bem-vindo(a) ao METINS!</h1>
ย ย ย ย ย ย ย ย ย ย <p class="text-gray-400 mb-6">Teste sua velocidade de raciocรญnio e concorra ao Hall da Fama diรกrio.</p>
ย ย ย ย ย ย ย ย ย ยย
ย ย ย ย ย ย ย ย ย ย <h2 class="text-xl font-bold mb-4 text-yellow-400">Entre para Comeรงar</h2>
ย ย ย ย ย ย ย ย ย ย <div class="space-y-4">
ย ย ย ย ย ย ย ย ย ย ย ย <input type="text" id="home-player-name" placeholder="Digite seu nome ou apelido" class="name-focus w-full p-3 rounded-lg bg-gray-700 text-white border border-yellow-400 focus:outline-none" />
ย ย ย ย ย ย ย ย ย ย ย ย <p id="name-feedback" class="text-sm text-red-400"></p>
ย ย ย ย ย ย ย ย ย ย ย ย <button onclick="startChallengeFromHome()" class="btn-primary w-full p-3 rounded-lg font-bold text-lg hover:opacity-80 transition duration-150">
ย ย ย ย ย ย ย ย ย ย ย ย ย ย Iniciar Desafio de 3 Minutos!
ย ย ย ย ย ย ย ย ย ย ย ย </button>
ย ย ย ย ย ย ย ย ย ย </div>
ย ย ย ย ย ย ย ย </div>
ย ย ย ย ย ย </div>

ย ย ย ย ย ย ย ย ย ย ย ย <div id="view-desafio" class="view-content hidden transition duration-500 opacity-0 px-4">
ย ย ย ย ย ย ย ย <div class="flex justify-between items-center mb-6">
ย ย ย ย ย ย ย ย ย ย <div class="text-xl font-bold">
ย ย ย ย ย ย ย ย ย ย ย ย Pontuaรงรฃo: <span id="score" class="text-green-400 font-orbitron">0</span> pts
ย ย ย ย ย ย ย ย ย ย </div>
ย ย ย ย ย ย ย ย ย ย <div class="text-2xl font-extrabold text-red-400 timer-glow neon-border p-2 rounded-lg">
ย ย ย ย ย ย ย ย ย ย ย ย <span id="timer">03:00</span>
ย ย ย ย ย ย ย ย ย ย </div>
ย ย ย ย ย ย ย ย </div>
ย ย ย ย ย ย ย ยย
ย ย ย ย ย ย ย ย ย ย ย ย ย ย ย ย <div id="quiz-area" class="card p-8 rounded-xl shadow-2xl">
ย ย ย ย ย ย ย ย ย ย <h2 id="challenge-title" class="text-2xl font-bold text-indigo-400 mb-4">Tรญtulo do Desafio</h2>
ย ย ย ย ย ย ย ย ย ย <p id="challenge-question" class="text-xl text-gray-300 mb-6">Pergunta do desafio...</p>
ย ย ย ย ย ย ย ย ย ยย
ย ย ย ย ย ย ย ย ย ย <input type="number" id="resposta" placeholder="Digite sua resposta aqui (apenas nรบmero)" class="w-full p-4 rounded-lg bg-gray-700 text-white border border-gray-600 focus:outline-none focus:border-indigo-400 text-lg mb-4" onkeydown="if(event.key==='Enter') submitQuiz()" />
ย ย ย ย ย ย ย ย ย ยย
ย ย ย ย ย ย ย ย ย ย <button onclick="submitQuiz()" class="btn-primary w-full p-3 rounded-lg font-bold text-lg hover:opacity-80 transition duration-150">
ย ย ย ย ย ย ย ย ย ย ย ย Enviar Resposta
ย ย ย ย ย ย ย ย ย ย </button>
ย ย ย ย ย ย ย ย ย ย <p id="question-feedback" class="text-center mt-4 text-sm"></p>
ย ย ย ย ย ย ย ย </div>

ย ย ย ย ย ย ย ย ย ย ย ย ย ย ย ย <div id="quiz-completed-message" class="hidden text-center p-8 rounded-xl shadow-2xl mt-6">
ย ย ย ย ย ย ย ย ย ย <p id="final-score-text" class="text-3xl font-extrabold"></p>
ย ย ย ย ย ย ย ย ย ย <p class="text-lg mt-4 text-gray-200">Seu score serรก enviado para o Hall da Fama!</p>
ย ย ย ย ย ย ย ย </div>
ย ย ย ย ย ย </div>
ย ย ย ย ย ยย
ย ย ย ย ย ย ย ย ย ย ย ย <div id="view-hall-da-fama" class="view-content hidden transition duration-500 opacity-0 px-4">
ย ย ย ย ย ย ย ย <div class="card p-8 rounded-xl shadow-2xl">
ย ย ย ย ย ย ย ย ย ย <h1 class="text-4xl font-extrabold text-yellow-400 mb-6 font-orbitron text-center">๐ Hall da Fama Diรกrio ๐</h1>
ย ย ย ย ย ย ย ย ย ย <p class="text-center text-gray-400 mb-6">Apenas o maior score de cada usuรกrio de hoje (Pontos ganhos por acerto = 100)</p>
ย ย ย ย ย ย ย ย ย ยย
ย ย ย ย ย ย ย ย ย ย <ul id="ranking-list" class="space-y-3">
ย ย ย ย ย ย ย ย ย ย ย ย ย ย ย ย ย ย ย ย ย ย ย ย <p class="text-gray-400 text-center py-4">Carregando ranking...</p>
ย ย ย ย ย ย ย ย ย ย </ul>

ย ย ย ย ย ย ย ย ย ย <div id="next-challenge-area" class="mt-8 text-center hidden">
ย ย ย ย ย ย ย ย ย ย ย ย <button onclick="window.nextChallenge()" class="bg-indigo-600 hover:bg-indigo-700 text-white p-3 rounded-lg font-bold transition duration-150">
ย ย ย ย ย ย ย ย ย ย ย ย ย ย Prรณximo Jogador (Voltar para Home)
ย ย ย ย ย ย ย ย ย ย ย ย </button>
ย ย ย ย ย ย ย ย ย ย </div>
ย ย ย ย ย ย ย ย ย ยย
ย ย ย ย ย ย ย ย ย ย <p id="user-id" class="text-xs text-gray-500 mt-4 text-center">ID: Desconhecido</p>
ย ย ย ย ย ย ย ย </div>
ย ย ย ย ย ย </div>

ย ย ย ย ย ย ย ย ย ย ย ย <div id="view-sobre" class="view-content hidden transition duration-500 opacity-0 px-4">
ย ย ย ย ย ย ย ย <div class="card p-8 rounded-xl shadow-2xl">
ย ย ย ย ย ย ย ย ย ย <h1 class="text-4xl font-extrabold text-indigo-400 mb-4 font-orbitron">Sobre o Projeto</h1>
ย ย ย ย ย ย ย ย ย ย <p class="text-gray-400 mb-4">Este รฉ um desafio interativo desenvolvido como parte de um projeto de aprendizado. O objetivo รฉ testar a velocidade e a precisรฃo em resolver enigmas rรกpidos.</p>
ย ย ย ย ย ย ย ย ย ยย
ย ย ย ย ย ย ย ย ย ย <h2 class="text-2xl font-bold text-yellow-400 mt-6 mb-3">Tecnologias Utilizadas:</h2>
ย ย ย ย ย ย ย ย ย ย <ul class="list-disc list-inside text-gray-400 space-y-2">
ย ย ย ย ย ย ย ย ย ย ย ย <li>HTML/JavaScript puro (Lรณgica do Quiz e Frontend)</li>
ย ย ย ย ย ย ย ย ย ย ย ย <li>Tailwind CSS (Estilizaรงรฃo rรกpida e responsiva)</li>
ย ย ย ย ย ย ย ย ย ย ย ย <li>Google Firebase / Cloud Firestore (Backend, Autenticaรงรฃo Anรดnima e Ranking em Tempo Real)</li>
ย ย ย ย ย ย ย ย ย ย </ul>
ย ย ย ย ย ย ย ย </div>
ย ย ย ย ย ย </div>
ย ย ย ย </div>
ย ย </main>
</body>
</html>
